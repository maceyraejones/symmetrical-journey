{"ast":null,"code":"import { BackgroundImage } from \"../types/BackgroundImage.js\";\nimport { Animatable } from \"../../animation/Animatable/Animatable.js\";\nimport { isString } from \"../../utils/utils.js\";\n\nfunction applyForwardOverrides(background, props) {\n  const {\n    _forwardedOverrideId,\n    _forwardedOverrides,\n    id\n  } = props;\n  const forwardedOverrideId = _forwardedOverrideId ?? id;\n  const src = _forwardedOverrides && forwardedOverrideId ? _forwardedOverrides[forwardedOverrideId] : undefined;\n\n  if (src && typeof src === \"string\") {\n    background = { ...background,\n      src\n    };\n  }\n\n  return background;\n}\n/** @internal */\n\n\nexport function backgroundImageFromProps(props) {\n  const {\n    background,\n    image\n  } = props;\n\n  if (image !== undefined && background && !BackgroundImage.isImageObject(background)) {\n    // Give precedence to background prop that is not set to an image\n    return;\n  }\n\n  let backgroundImage = null;\n\n  if (isString(image)) {\n    backgroundImage = {\n      alt: \"\",\n      src: image\n    };\n  } else {\n    backgroundImage = Animatable.get(background, null);\n  }\n\n  if (!BackgroundImage.isImageObject(backgroundImage)) {\n    return;\n  }\n\n  return applyForwardOverrides(backgroundImage, props);\n}","map":{"version":3,"mappings":"AAEA,SAASA,eAAT,QAAgC,6BAAhC;AACA,SAASC,UAAT,QAA2B,0CAA3B;AACA,SAASC,QAAT,QAAyB,sBAAzB;;AAEA,SAASC,qBAAT,CACIC,UADJ,EAEIC,KAFJ,EAE+D;AAE3D,QAAM;AAAEC,wBAAF;AAAwBC,uBAAxB;AAA6CC;AAA7C,MAAoDH,KAA1D;AACA,QAAMI,mBAAmB,GAAGH,oBAAoB,IAAIE,EAApD;AACA,QAAME,GAAG,GAAGH,mBAAmB,IAAIE,mBAAvB,GAA6CF,mBAAmB,CAACE,mBAAD,CAAhE,GAAwFE,SAApG;;AACA,MAAID,GAAG,IAAI,OAAOA,GAAP,KAAe,QAA1B,EAAoC;AAChCN,cAAU,GAAG,EAAE,GAAGA,UAAL;AAAiBM;AAAjB,KAAb;AACH;;AACD,SAAON,UAAP;AACH;AAED;;;AACA,OAAM,SAAUQ,wBAAV,CACFP,KADE,EACmE;AAErE,QAAM;AAAED,cAAF;AAAcS;AAAd,MAAwBR,KAA9B;;AACA,MAAIQ,KAAK,KAAKF,SAAV,IAAuBP,UAAvB,IAAqC,CAACJ,eAAe,CAACc,aAAhB,CAA8BV,UAA9B,CAA1C,EAAqF;AACjF;AACA;AACH;;AACD,MAAIW,eAAe,GAAsB,IAAzC;;AAEA,MAAIb,QAAQ,CAACW,KAAD,CAAZ,EAAqB;AACjBE,mBAAe,GAAG;AAAEC,SAAG,EAAE,EAAP;AAAWN,SAAG,EAAEG;AAAhB,KAAlB;AACH,GAFD,MAEO;AACHE,mBAAe,GAAGd,UAAU,CAACgB,GAAX,CAAeb,UAAf,EAA2B,IAA3B,CAAlB;AACH;;AACD,MAAI,CAACJ,eAAe,CAACc,aAAhB,CAA8BC,eAA9B,CAAL,EAAqD;AACjD;AACH;;AACD,SAAOZ,qBAAqB,CAACY,eAAD,EAAkBV,KAAlB,CAA5B;AACH","names":["BackgroundImage","Animatable","isString","applyForwardOverrides","background","props","_forwardedOverrideId","_forwardedOverrides","id","forwardedOverrideId","src","undefined","backgroundImageFromProps","image","isImageObject","backgroundImage","alt","get"],"sources":["../../../src/render/style/backgroundImageFromProps.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}