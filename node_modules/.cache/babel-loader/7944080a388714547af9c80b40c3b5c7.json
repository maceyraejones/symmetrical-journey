{"ast":null,"code":"import { Point } from \"./Point.js\";\n/**\n * @internal\n */\n\nexport class PathSegment {\n  // #region withClassDiscriminator\n  // NOTE: this implementation carefully copies the implementation of `withClassDiscriminator`\n  // from Vekter. If making changes here, make sure to sync them to `withClassDiscriminator` as well.\n  __class = \"PathSegment\";\n  static displayName = \"WithClassDiscriminatorMixin(PathSegment)\"; // #endregion\n\n  x = 0; // The anchor point of the segment.\n\n  y = 0;\n  handleMirroring = \"straight\";\n  handleOutX = 0; // Describes the out tangent of the segment.\n\n  handleOutY = 0;\n  handleInX = 0; // Describes the in tangent of the segment.\n\n  handleInY = 0;\n  radius = 0;\n\n  constructor(value) {\n    if (value) {\n      Object.assign(this, value);\n    }\n  }\n\n  merge(value) {\n    return Object.assign(Object.create(Object.getPrototypeOf(this)), this, value);\n  }\n\n} // #region withClassDiscriminator\n// NOTE: this implementation carefully copies the implementation of `withClassDiscriminator`\n// from Vekter. If making changes here, make sure to sync them to `withClassDiscriminator` as well.\n\n;\nPathSegment.prototype.__class = \"PathSegment\"; // #endregion\n\n/**\n * @internal\n */\n\n(function (PathSegment) {\n  PathSegment.point = pathSegment => {\n    return {\n      x: pathSegment.x,\n      y: pathSegment.y\n    };\n  };\n\n  PathSegment.handleOut = pathSegment => {\n    return {\n      x: pathSegment.handleOutX,\n      y: pathSegment.handleOutY\n    };\n  };\n\n  PathSegment.handleIn = pathSegment => {\n    return {\n      x: pathSegment.handleInX,\n      y: pathSegment.handleInY\n    };\n  };\n\n  PathSegment.calculatedHandleOut = pathSegment => {\n    switch (pathSegment.handleMirroring) {\n      case \"symmetric\":\n      case \"disconnected\":\n      case \"asymmetric\":\n        return Point.add(PathSegment.point(pathSegment), PathSegment.handleOut(pathSegment));\n\n      default:\n        return {\n          x: pathSegment.x,\n          y: pathSegment.y\n        };\n    }\n  };\n\n  PathSegment.calculatedHandleIn = pathSegment => {\n    switch (pathSegment.handleMirroring) {\n      case \"symmetric\":\n        return Point.subtract(PathSegment.point(pathSegment), PathSegment.handleOut(pathSegment));\n\n      case \"disconnected\":\n      case \"asymmetric\":\n        return Point.add(PathSegment.point(pathSegment), PathSegment.handleIn(pathSegment));\n\n      default:\n        return PathSegment.point(pathSegment);\n    }\n  };\n\n  PathSegment.curveDefault = (points, index) => {\n    if (points.length > 2) {\n      let pointBefore;\n      let pointAfter;\n\n      if (index === 0) {\n        pointBefore = points[points.length - 1];\n      } else {\n        pointBefore = points[index - 1];\n      }\n\n      if (index === points.length - 1) {\n        pointAfter = points[0];\n      } else {\n        pointAfter = points[index + 1];\n      }\n\n      const delta = Point.subtract(PathSegment.point(pointAfter), PathSegment.point(pointBefore));\n      return {\n        x: delta.x / 4,\n        y: delta.y / 4\n      };\n    }\n\n    return {\n      x: 10,\n      y: 10\n    };\n  };\n})(PathSegment || (PathSegment = {}));","map":{"version":3,"mappings":"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","names":["Point","PathSegment","__class","displayName","x","y","handleMirroring","handleOutX","handleOutY","handleInX","handleInY","radius","constructor","value","Object","assign","merge","create","getPrototypeOf","prototype","pathSegment","add","subtract","points","index","length","pointBefore","pointAfter","delta"],"sources":["../../../src/render/types/PathSegment.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}