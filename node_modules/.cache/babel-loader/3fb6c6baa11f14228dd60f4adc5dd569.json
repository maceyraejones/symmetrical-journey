{"ast":null,"code":"import process from \"process\";\nimport { safeWindow } from \"../utils/safeWindow.js\";\nimport { safeNavigator } from \"./safeNavigator.js\";\nexport const isBrowser = () => typeof document === \"object\";\nexport const isWebKit = () => safeNavigator?.userAgent.includes(\"AppleWebKit/\") && !isChrome() && !isEdge();\nexport const webkitVersion = () => {\n  let version = -1;\n  const regexp = /AppleWebKit\\/([\\d.]+)/;\n  const result = safeNavigator && regexp.exec(safeNavigator.userAgent);\n\n  if (result) {\n    version = parseFloat(result[1]);\n  }\n\n  return version;\n};\nexport const isChrome = () => safeNavigator && /Chrome/.test(safeNavigator.userAgent) && /Google Inc/.test(safeNavigator.vendor) && !isEdge();\nexport const isSafari = () => safeNavigator && /Safari/.test(safeNavigator.userAgent) && /Apple Computer/.test(safeNavigator.vendor);\nexport const isFirefox = () => safeNavigator && /Firefox\\/\\d+\\.\\d+$/.test(safeNavigator.userAgent);\nexport const isFramerX = () => safeNavigator && /FramerX/.test(safeNavigator.userAgent);\nexport const isEdge = () => safeNavigator && /Edg\\//.test(safeNavigator.userAgent);\nexport const isAndroid = () => safeNavigator && /(android)/i.test(safeNavigator.userAgent);\nexport const isIOS = () => safeNavigator && /(iPhone|iPod|iPad)/i.test(safeNavigator.platform);\nexport const isMacOS = () => safeNavigator && /Mac/.test(safeNavigator.platform);\nexport const isWindows = () => safeNavigator && /Win/.test(safeNavigator.platform);\nexport const isTouch = () => safeWindow.ontouchstart === null && safeWindow.ontouchmove === null && safeWindow.ontouchend === null;\nexport const isDesktop = () => deviceType() === \"desktop\";\nexport const isPhone = () => deviceType() === \"phone\";\nexport const isTablet = () => deviceType() === \"tablet\";\nexport const isMobile = () => isPhone() || isTablet();\nexport const isFileUrl = url => url.startsWith(\"file://\");\nexport const isDataUrl = url => url.startsWith(\"data:\");\nexport const isTest = () => process.env.NODE_ENV === \"test\"; // Prettier removes the extra parentheses, but without them, VS Code syntax\n// highlighting goes haywire.\n//\n// prettier-ignore\n\nexport const isRelativeUrl = url => !/^([a-zA-Z]{1,8}:\\/\\/).*$/.test(url);\nexport const isLocalServerUrl = url => /[a-zA-Z]{1,8}:\\/\\/127\\.0\\.0\\.1/.test(url) || /[a-zA-Z]{1,8}:\\/\\/localhost/.test(url);\nexport const isLocalUrl = url => {\n  if (isFileUrl(url)) return true;\n  if (isLocalServerUrl(url)) return true;\n  return false;\n};\nexport const isLocalAssetUrl = (url, baseUrl) => {\n  if (baseUrl === null) baseUrl = safeWindow.location.href;\n  if (isDataUrl(url)) return false;\n  if (isLocalUrl(url)) return true;\n  if (isRelativeUrl(url) && isLocalUrl(baseUrl)) return true;\n  return false;\n};\nexport const devicePixelRatio = () => safeWindow.devicePixelRatio;\nexport const isJP2Supported = function () {\n  if (isFirefox()) return false;\n  return isWebKit();\n};\nexport const isWebPSupported = () => isChrome();\nexport const deviceType = () => {\n  // https://github.com/jeffmcmahan/device-detective/blob/master/bin/device-detect.js\n  if (safeNavigator && /(tablet)|(iPad)|(Nexus 9)/i.test(safeNavigator.userAgent)) return \"tablet\";\n  if (safeNavigator && /(mobi)/i.test(safeNavigator.userAgent)) return \"phone\";\n  return \"desktop\";\n};\nexport const deviceOS = () => {\n  if (isMacOS()) return \"macos\";\n  if (isIOS()) return \"ios\";\n  if (isAndroid()) return \"android\";\n  if (isWindows()) return \"windows\";\n};\nexport const deviceFont = os => {\n  // https://github.com/jonathantneal/system-font-css\n  if (!os) {\n    os = deviceOS();\n  }\n\n  const fonts = {\n    apple: \"-apple-system, BlinkMacSystemFont, SF Pro Text, SF UI Text, Helvetica Neue\",\n    google: \"Roboto, Helvetica Neue\",\n    microsoft: \"Segoe UI, Helvetica Neue\"\n  };\n  if (os === \"macos\") return fonts.apple;\n  if (os === \"ios\") return fonts.apple;\n  if (os === \"android\") return fonts.google;\n  if (os === \"windows\") return fonts.microsoft;\n  return fonts.apple;\n}; // XXX: Workaround for https://github.com/microsoft/rushstack/issues/1029\n\n/** @internal */\n\nexport const environment = {\n  isWebKit,\n  webkitVersion,\n  isChrome,\n  isSafari,\n  isFirefox,\n  isFramerX,\n  isEdge,\n  isAndroid,\n  isIOS,\n  isMacOS,\n  isWindows,\n  isTouch,\n  isDesktop,\n  isPhone,\n  isTablet,\n  isMobile,\n  isFileUrl,\n  isDataUrl,\n  isRelativeUrl,\n  isLocalServerUrl,\n  isLocalUrl,\n  isLocalAssetUrl,\n  devicePixelRatio,\n  isJP2Supported,\n  isWebPSupported,\n  deviceType,\n  deviceOS,\n  deviceFont\n};","map":{"version":3,"mappings":"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","names":["process","safeWindow","safeNavigator","isBrowser","document","isWebKit","userAgent","includes","isChrome","isEdge","webkitVersion","version","regexp","result","exec","parseFloat","test","vendor","isSafari","isFirefox","isFramerX","isAndroid","isIOS","platform","isMacOS","isWindows","isTouch","ontouchstart","ontouchmove","ontouchend","isDesktop","deviceType","isPhone","isTablet","isMobile","isFileUrl","url","startsWith","isDataUrl","isTest","env","NODE_ENV","isRelativeUrl","isLocalServerUrl","isLocalUrl","isLocalAssetUrl","baseUrl","location","href","devicePixelRatio","isJP2Supported","isWebPSupported","deviceOS","deviceFont","os","fonts","apple","google","microsoft","environment"],"sources":["../../src/utils/environment.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}