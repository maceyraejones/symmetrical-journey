{"ast":null,"code":"import * as React from \"react\"; // Match the first portion of a CSS variable e.g. var(--token-123)\n\nconst VariableRegex = /var\\(([^),]+)/;\n/**\n * Provides a lookup function `CustomPropertiesLookup` to consumers.\n * @internal\n */\n\nexport const CustomPropertiesContext = React.createContext(() => null);\n/**\n * Takes a CSS properties map of custom property to value and inserts them into the DOM.\n * Also sets up a CustomPropertiesContext provider to make a lookup function available\n * to all children.\n * @internal\n *\n * @internalremarks\n * This component was at the heart of a serious panning performance issue. Ensure any\n * refactoring never updates `value` every render.\n */\n\nexport class CustomProperties extends React.PureComponent {\n  lookup = variable => {\n    const match = VariableRegex.exec(variable);\n    const customProperty = match ? match[1].trim() : \"\";\n    return this.props.customProperties[customProperty] || null;\n  };\n\n  render() {\n    const {\n      children,\n      customProperties\n    } = this.props;\n    return React.createElement(CustomPropertiesContext.Provider, {\n      value: this.lookup\n    }, React.createElement(\"div\", {\n      style: customProperties\n    }, children));\n  }\n\n}","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB,C,CASA;;AACA,MAAMC,aAAa,GAAG,eAAtB;AAEA;;;;;AAIA,OAAO,MAAMC,uBAAuB,GAAGF,KAAK,CAACG,aAAN,CAA4C,MAAM,IAAlD,CAAhC;AAEP;;;;;;;;;;;AAUA,OAAM,MAAOC,gBAAP,SAAgCJ,KAAK,CAACK,aAAtC,CAEJ;AACEC,QAAM,GAAIC,QAAD,IAAqB;AAC1B,UAAMC,KAAK,GAAGP,aAAa,CAACQ,IAAd,CAAmBF,QAAnB,CAAd;AACA,UAAMG,cAAc,GAAGF,KAAK,GAAGA,KAAK,CAAC,CAAD,CAAL,CAASG,IAAT,EAAH,GAAqB,EAAjD;AACA,WAAO,KAAKC,KAAL,CAAWC,gBAAX,CAA4BH,cAA5B,KAA+C,IAAtD;AACH,GAJK;;AAMNI,QAAM;AACF,UAAM;AAAEC,cAAF;AAAYF;AAAZ,QAAiC,KAAKD,KAA5C;AACA,WACIZ,oBAACE,uBAAuB,CAACc,QAAzB,EAAiC;AAACC,WAAK,EAAE,KAAKX;AAAb,KAAjC,EACIN;AAAKkB,WAAK,EAAEL;AAAZ,OAA+BE,QAA/B,CADJ,CADJ;AAKH;;AAdH","names":["React","VariableRegex","CustomPropertiesContext","createContext","CustomProperties","PureComponent","lookup","variable","match","exec","customProperty","trim","props","customProperties","render","children","Provider","value","style"],"sources":["../../../src/render/presentation/CustomProperties.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}