{"ast":null,"code":"function createTransformValues(baseTransform, mode) {\n  let {\n    x,\n    y\n  } = baseTransform;\n  const {\n    width,\n    height,\n    rotation\n  } = baseTransform;\n\n  if (mode === \"resetXYKeepFraction\") {\n    x = x - Math.floor(x);\n    y = y - Math.floor(y);\n  } else if (mode === \"resetXY\") {\n    x = 0;\n    y = 0;\n  }\n\n  return {\n    x,\n    y,\n    width,\n    height,\n    rotation\n  };\n}\n\nfunction getTransformMode(isRootVectorNode, includeTransform) {\n  if (includeTransform !== undefined) {\n    if (includeTransform) {\n      return \"asIs\";\n    }\n  } else {\n    if (!isRootVectorNode) {\n      return \"asIs\";\n    }\n  }\n\n  if (isRootVectorNode) {\n    // top level shape\n    return \"resetXYKeepFraction\";\n  } else {\n    return \"resetXY\";\n  }\n}\n\nexport function transformValues(rect, rotation, isRootVectorNode, includeTransform) {\n  const transformMode = getTransformMode(isRootVectorNode, includeTransform);\n  const baseTransform = { ...rect,\n    rotation\n  };\n  const transform = createTransformValues(baseTransform, transformMode);\n  return transform;\n}","map":{"version":3,"mappings":"AAKA,SAASA,qBAAT,CAA+BC,aAA/B,EAA+DC,IAA/D,EAA8F;AAC1F,MAAI;AAAEC,KAAF;AAAKC;AAAL,MAAWH,aAAf;AACA,QAAM;AAAEI,SAAF;AAASC,UAAT;AAAiBC;AAAjB,MAA8BN,aAApC;;AAEA,MAAIC,IAAI,KAAK,qBAAb,EAAoC;AAChCC,KAAC,GAAGA,CAAC,GAAGK,IAAI,CAACC,KAAL,CAAWN,CAAX,CAAR;AACAC,KAAC,GAAGA,CAAC,GAAGI,IAAI,CAACC,KAAL,CAAWL,CAAX,CAAR;AACH,GAHD,MAGO,IAAIF,IAAI,KAAK,SAAb,EAAwB;AAC3BC,KAAC,GAAG,CAAJ;AACAC,KAAC,GAAG,CAAJ;AACH;;AAED,SAAO;AAAED,KAAF;AAAKC,KAAL;AAAQC,SAAR;AAAeC,UAAf;AAAuBC;AAAvB,GAAP;AACH;;AAED,SAASG,gBAAT,CAA0BC,gBAA1B,EAAqDC,gBAArD,EAA+E;AAC3E,MAAIA,gBAAgB,KAAKC,SAAzB,EAAoC;AAChC,QAAID,gBAAJ,EAAsB;AAClB,aAAO,MAAP;AACH;AACJ,GAJD,MAIO;AACH,QAAI,CAACD,gBAAL,EAAuB;AACnB,aAAO,MAAP;AACH;AACJ;;AAED,MAAIA,gBAAJ,EAAsB;AAClB;AACA,WAAO,qBAAP;AACH,GAHD,MAGO;AACH,WAAO,SAAP;AACH;AACJ;;AAED,OAAM,SAAUG,eAAV,CACFC,IADE,EAEFR,QAFE,EAGFI,gBAHE,EAIFC,gBAJE,EAIwB;AAE1B,QAAMI,aAAa,GAAGN,gBAAgB,CAACC,gBAAD,EAAmBC,gBAAnB,CAAtC;AACA,QAAMX,aAAa,GAAG,EAAE,GAAGc,IAAL;AAAWR;AAAX,GAAtB;AACA,QAAMU,SAAS,GAAGjB,qBAAqB,CAACC,aAAD,EAAgBe,aAAhB,CAAvC;AACA,SAAOC,SAAP;AACH","names":["createTransformValues","baseTransform","mode","x","y","width","height","rotation","Math","floor","getTransformMode","isRootVectorNode","includeTransform","undefined","transformValues","rect","transformMode","transform"],"sources":["../../../src/render/utils/createTransformValues.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}